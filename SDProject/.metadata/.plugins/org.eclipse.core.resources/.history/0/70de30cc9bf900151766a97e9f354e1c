package ctrl;

import lipermi.handler.CallHandler;
import lipermi.net.Client;

public class SupervisedClient {

	private Client client = null;
	
	public SupervisedClient(String ip, int port){
		System.out.println("CLIENT : Begin");
		
		System.out.println("CLIENT :	Binding ...");
		
		CallHandler callHandler = new CallHandler();

		try{
			this.client = new Client(ip, port, callHandler);
		}catch(Exception e){
			e.printStackTrace();
		}
		
		System.out.println("CLIENT :	Binding ok");
		
		System.out.println("CLIENT : 	Test connection ...");
		
		ConnectivityServices connecivityServicesRemote;
		connecivityServicesRemote = (ConnectivityServices) client.getGlobal(ConnectivityServices.class);
		
		connecivityServicesRemote.connectedClient();
		
		System.out.println("CLIENT : 	Test connection ok");
		
		System.out.println("CLIENT : 	Connected");
	}
}
